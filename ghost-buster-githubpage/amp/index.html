
<head>
    <meta charset="utf-8">

    <title>ghost + buster + github page</title>

    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">

    <link rel="shortcut icon" href="../../favicon.ico">

    <link rel="shortcut icon" href="../../favicon.ico" type="image/x-icon">
    <link rel="canonical" href="../index.html">
    <meta name="referrer" content="no-referrer-when-downgrade">
    
    <meta property="og:site_name" content="bejuryu's journal">
    <meta property="og:type" content="article">
    <meta property="og:title" content="ghost + buster + github page">
    <meta property="og:description" content="블로그를 시작해야지. 라고 마음을 먹었을 때 염두에 둔 플랫폼은 github page였다. 정적 페이지라서, github이 호스팅을 해 줘서, git으로 버전 관리를 해 줘서... 같은 의미가 있었던 것은 아니고, 단지 다른 개발자 들이 많이 쓰는거 같으니까... 따라가려는 사소한 마음으로 시작하였다. 하지만 공식문서대로 Jekyll로 하려니 예전에도 해 봤지만 별로 안 이쁜거 같고. 어디선가">
    <meta property="og:url" content="http://localhost:2368/ghost-buster-githubpage/">
    <meta property="article:published_time" content="2017-12-02T12:08:45.000Z">
    <meta property="article:modified_time" content="2017-12-02T12:33:46.000Z">
    <meta property="article:tag" content="ghost">
    <meta property="article:tag" content="buster">
    <meta property="article:tag" content="github page">
    
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="ghost + buster + github page">
    <meta name="twitter:description" content="블로그를 시작해야지. 라고 마음을 먹었을 때 염두에 둔 플랫폼은 github page였다. 정적 페이지라서, github이 호스팅을 해 줘서, git으로 버전 관리를 해 줘서... 같은 의미가 있었던 것은 아니고, 단지 다른 개발자 들이 많이 쓰는거 같으니까... 따라가려는 사소한 마음으로 시작하였다. 하지만 공식문서대로 Jekyll로 하려니 예전에도 해 봤지만 별로 안 이쁜거 같고. 어디선가">
    <meta name="twitter:url" content="http://localhost:2368/ghost-buster-githubpage/">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="bejuryu">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="ghost, buster, github page">
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "bejuryu&#x27;s journal",
        "logo": {
            "@type": "ImageObject",
            "url": "http://localhost:2368/favicon.ico",
            "width": 60,
            "height": 60
        }
    },
    "author": {
        "@type": "Person",
        "name": "bejuryu",
        "image": {
            "@type": "ImageObject",
            "url": "//www.gravatar.com/avatar/8b6634d2ebbefc08db5bb81aff6e4b6e?s=250&d=mm&r=x",
            "width": 250,
            "height": 250
        },
        "url": "http://localhost:2368/author/bejuryu/",
        "sameAs": []
    },
    "headline": "ghost + buster + github page",
    "url": "http://localhost:2368/ghost-buster-githubpage/",
    "datePublished": "2017-12-02T12:08:45.000Z",
    "dateModified": "2017-12-02T12:33:46.000Z",
    "keywords": "ghost, buster, github page",
    "description": "블로그를 시작해야지. 라고 마음을 먹었을 때 염두에 둔 플랫폼은 github page였다. 정적 페이지라서, github이 호스팅을 해 줘서, git으로 버전 관리를 해 줘서... 같은 의미가 있었던 것은 아니고, 단지 다른 개발자 들이 많이 쓰는거 같으니까... 따라가려는 사소한 마음으로 시작하였다. 하지만 공식문서대로 Jekyll로 하려니 예전에도 해 봤지만 별로 안 이쁜거 같고. 어디선가",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://localhost:2368/"
    }
}
    </script>

    <meta name="generator" content="Ghost 1.18">
    <link rel="alternate" type="application/rss+xml" title="bejuryu's journal" href="../../rss/index.html">

    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic%7COpen+Sans:700,600,400">
    <style amp-custom>html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:bold}dfn{font-style:italic}h1{margin:0.67em 0;font-size:2em}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{position:relative;vertical-align:baseline;font-size:75%;line-height:0}sup{top:-0.5em}sub{bottom:-0.25em}img{border:0}amp-img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace, monospace;font-size:1em}button,input,optgroup,select,textarea{margin:0;color:inherit;font:inherit}button{overflow:visible}button,select{text-transform:none}button,html input[type="button"],input[type="reset"],input[type="submit"]{cursor:pointer;-webkit-appearance:button}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{padding:0;border:0}input{line-height:normal}input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}input[type="number"]::-webkit-inner-spin-button,input[type="number"]::-webkit-outer-spin-button{height:auto}input[type="search"]{-webkit-appearance:textfield}input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}fieldset{margin:0 2px;padding:0.35em 0.625em 0.75em;border:1px solid #c0c0c0}legend{padding:0;border:0}textarea{overflow:auto}optgroup{font-weight:bold}table{border-spacing:0;border-collapse:collapse}td,th{padding:0}html{max-height:100%;height:100%;font-size:62.5%;-webkit-tap-highlight-color:rgba(0, 0, 0, 0)}body{max-height:100%;height:100%;color:#3a4145;background:#f4f8fb;letter-spacing:0.01rem;font-family:"Merriweather", serif;font-size:1.8rem;line-height:1.75em;text-rendering:geometricPrecision;-webkit-font-feature-settings:"kern" 1;-moz-font-feature-settings:"kern" 1;-o-font-feature-settings:"kern" 1}::-moz-selection{background:#d6edff}::selection{background:#d6edff}h1,h2,h3,h4,h5,h6{margin:0 0 0.3em 0;color:#2e2e2e;font-family:"Open Sans", sans-serif;line-height:1.15em;text-rendering:geometricPrecision;-webkit-font-feature-settings:"dlig" 1, "liga" 1, "lnum" 1, "kern" 1;-moz-font-feature-settings:"dlig" 1, "liga" 1, "lnum" 1, "kern" 1;-o-font-feature-settings:"dlig" 1, "liga" 1, "lnum" 1, "kern" 1}h1{text-indent:-2px;letter-spacing:-1px;font-size:2.6rem}h2{letter-spacing:0;font-size:2.4rem}h3{letter-spacing:-0.6px;font-size:2.1rem}h4{font-size:1.9rem}h5{font-size:1.8rem}h6{font-size:1.8rem}a{color:#4a4a4a}a:hover{color:#111}p,ul,ol,dl{margin:0 0 2.5rem 0;font-size:1.5rem;text-rendering:geometricPrecision;-webkit-font-feature-settings:"liga" 1, "onum" 1, "kern" 1;-moz-font-feature-settings:"liga" 1, "onum" 1, "kern" 1;-o-font-feature-settings:"liga" 1, "onum" 1, "kern" 1}ol,ul{padding-left:2em}ol ol,ul ul,ul ol,ol ul{margin:0 0 0.4em 0;padding-left:2em}dl dt{float:left;clear:left;overflow:hidden;margin-bottom:1em;width:180px;text-align:right;text-overflow:ellipsis;white-space:nowrap;font-weight:700}dl dd{margin-bottom:1em;margin-left:200px}li{margin:0.4em 0}li li{margin:0}hr{display:block;margin:1.75em 0;padding:0;height:1px;border:0;border-top:#efefef 1px solid}blockquote{box-sizing:border-box;margin:1.75em 0 1.75em 0;padding:0 0 0 1.75em;border-left:#4a4a4a 0.4em solid;-moz-box-sizing:border-box}blockquote p{margin:0.8em 0;font-style:italic}blockquote small{display:inline-block;margin:0.8em 0 0.8em 1.5em;color:#ccc;font-size:0.9em}blockquote small:before{content:"\2014 \00A0"}blockquote cite{font-weight:700}blockquote cite a{font-weight:normal}mark{background-color:#fdffb6}code,tt{padding:1px 3px;border:#e3edf3 1px solid;background:#f7fafb;border-radius:2px;white-space:pre-wrap;font-family:Inconsolata, monospace, sans-serif;font-size:0.85em;font-feature-settings:"liga" 0;-webkit-font-feature-settings:"liga" 0;-moz-font-feature-settings:"liga" 0}pre{overflow:auto;box-sizing:border-box;margin:0 0 1.75em 0;padding:10px;width:100%;border:#e3edf3 1px solid;background:#f7fafb;border-radius:3px;white-space:pre;font-family:Inconsolata, monospace, sans-serif;font-size:0.9em;-moz-box-sizing:border-box}pre code,pre tt{padding:0;border:none;background:transparent;white-space:pre-wrap;font-size:inherit}kbd{display:inline-block;margin-bottom:0.4em;padding:1px 8px;border:#ccc 1px solid;background:#f4f4f4;border-radius:4px;box-shadow:0 1px 0 rgba(0, 0, 0, 0.2), 0 1px 0 0 #fff inset;color:#666;text-shadow:#fff 0 1px 0;font-size:0.9em;font-weight:700}table{box-sizing:border-box;margin:1.75em 0;max-width:100%;width:100%;background-color:transparent;-moz-box-sizing:border-box}table th,table td{padding:8px;border-top:#efefef 1px solid;vertical-align:top;text-align:left;line-height:20px}table th{color:#000}table caption + thead tr:first-child th,table caption + thead tr:first-child td,table colgroup + thead tr:first-child th,table colgroup + thead tr:first-child td,table thead:first-child tr:first-child th,table thead:first-child tr:first-child td{border-top:0}table tbody + tbody{border-top:#efefef 2px solid}table table table{background-color:#fff}table tbody > tr:nth-child(odd) > td,table tbody > tr:nth-child(odd) > th{background-color:#f6f6f6}table.plain tbody > tr:nth-child(odd) > td,table.plain tbody > tr:nth-child(odd) > th{background:transparent}iframe,amp-iframe,.fluid-width-video-wrapper{display:block;margin:1.75em 0}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper amp-iframe{margin:0}textarea,select,input{margin:0 0 5px 0;padding:6px 9px;width:260px;outline:0;border:#e7eef2 1px solid;background:#fff;border-radius:4px;box-shadow:none;font-family:"Open Sans", sans-serif;font-size:1.6rem;line-height:1.4em;font-weight:100;-webkit-appearance:none}textarea{min-width:250px;min-height:80px;max-width:340px;width:100%;height:auto}input[type="text"]:focus,input[type="email"]:focus,input[type="search"]:focus,input[type="tel"]:focus,input[type="url"]:focus,input[type="password"]:focus,input[type="number"]:focus,input[type="date"]:focus,input[type="month"]:focus,input[type="week"]:focus,input[type="time"]:focus,input[type="datetime"]:focus,input[type="datetime-local"]:focus,textarea:focus{outline:none;outline-width:0;border:#bbc7cc 1px solid;background:#fff}select{width:270px;height:30px;line-height:30px}.clearfix:before,.clearfix:after{content:" ";display:table}.clearfix:after{clear:both}.clearfix{zoom:1}.main-header{position:relative;display:table;overflow:hidden;box-sizing:border-box;width:100%;height:50px;background:#5ba4e5 no-repeat center center;background-size:cover;text-align:left;-webkit-box-sizing:border-box;-moz-box-sizing:border-box}.content{background:#fff;padding-top:15px}.blog-title,.content{margin:auto;max-width:600px}.blog-title a{display:block;padding-right:16px;padding-left:16px;height:50px;color:#fff;text-decoration:none;font-family:"Open Sans", sans-serif;font-size:16px;line-height:50px;font-weight:600}.post{position:relative;margin-top:0;margin-right:16px;margin-left:16px;padding-bottom:0;max-width:100%;border-bottom:#ebf2f6 1px solid;word-wrap:break-word;font-size:0.95em;line-height:1.65em}.post-header{margin-bottom:1rem}.post-title{margin-bottom:0}.post-title a{text-decoration:none}.post-meta{display:block;margin:3px 0 0 0;color:#9eabb3;font-family:"Open Sans", sans-serif;font-size:1.3rem;line-height:2.2rem}.post-meta a{color:#9eabb3;text-decoration:none}.post-meta a:hover{text-decoration:underline}.post-meta .author{margin:0;font-size:1.3rem;line-height:1.3em}.post-date{display:inline-block;text-transform:uppercase;white-space:nowrap;font-size:1.2rem;line-height:1.2em}.post-image{margin:0;padding-top:3rem;padding-bottom:30px;border-top:1px #E8E8E8 solid}.post-content amp-img,.post-content amp-anim{position:relative;left:50%;display:block;padding:0;min-width:0;max-width:112%;width:calc(100% + 32px);height:auto;transform:translateX(-50%);-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%)}.footnotes{font-size:1.3rem;line-height:1.6em;font-style:italic}.footnotes li{margin:0.6rem 0}.footnotes p{margin:0}.footnotes p a:last-child{text-decoration:none}.site-footer{position:relative;margin:0 auto 20px auto;padding:1rem 15px;max-width:600px;color:rgba(0,0,0,0.5);font-family:"Open Sans", sans-serif;font-size:1.1rem;line-height:1.75em}.site-footer a{color:rgba(0,0,0,0.5);text-decoration:none;font-weight:bold}.site-footer a:hover{border-bottom:#bbc7cc 1px solid}.poweredby{display:block;float:right;width:45%;text-align:right}.copyright{display:block;float:left;width:45%}</style>

    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
    <script async src="https://cdn.ampproject.org/v0.js"></script>

    

</head>

<body class="amp-template">
    <header class="main-header">
        <nav class="blog-title">
            <a href="../../">bejuryu's journal</a>
        </nav>
    </header>

    <main class="content" role="main">
        <article class="post">

            <header class="post-header">
                <h1 class="post-title">ghost + buster + github page</h1>
                <section class="post-meta">
                    <p class="author">by <a href="../../author/bejuryu/">bejuryu</a></p>
                    <time class="post-date" datetime="2017-12-02">2017-12-02</time>
                </section>
            </header>
            <section class="post-content">

                <div class="kg-card-markdown"><p>블로그를 시작해야지. 라고 마음을 먹었을 때 염두에 둔 플랫폼은 github page였다.<br>
정적 페이지라서, github이 호스팅을 해 줘서, git으로 버전 관리를 해 줘서... 같은 의미가 있었던 것은 아니고, 단지 다른 개발자 들이 많이 쓰는거 같으니까... 따라가려는 사소한 마음으로 시작하였다.<br>
하지만 공식문서대로 Jekyll로 하려니 예전에도 해 봤지만 별로 안 이쁜거 같고. 어디선가 ghost로 블로그를 만들어서 github로 올릴 수 있다고 본거 같아서 따라하게 되었다. 그리고 이 글은 그 글을 따라하면서의 삽질의 기록이다.</p>
<p>간략하게 진행할 내용을 말하자면 <strong>ghost 설치</strong>, <strong>buster 설치</strong> 의 내용이 전부다.<br>
설치할때 참조한 문서는 <a href="https://medium.com/aishik/publish-with-ghost-on-github-pages-2e5308db90ae">Publish with Ghost on Github Pages</a>.</p>
<p>우선 ghost를 설치할 서버를 설정한다. 로컬에 진행하여도 상관 없지만, Google Compute Engine에 가입하니 1년에 $300 쿠폰이 나와서 그냥 깨끗하게 서버로 진행 하기로 한다.<br>
GCE 서버 설정은 각자가 진행 하고... 난 그냥 g1-small 사양에다가 debian os를 선택해서 진행 하였다. 그나마 메모리가 1.6G나 되서 swap을 별도로 안 만들어줘도 되서 다행.</p>
<h1 id="systemupdate">system update</h1>
<p>서버를 선택하고 아무것도 하지 않았다면 시스템 업데이트를 하고 필수 패키지를 설치한다.</p>
<pre><code class="language-bash">sudo apt update
sudo apt dist-upgrade
sudo apt install build-essential git python-all-dev virtualenv
</code></pre>
<p>python-all-dev와 virtualenv를 보면 알겠지만 python3를 설치하지 않고 python2를 설치한다. 굳이 2를 설치하고 싶진 않았지만 어쩔 수 없었다. 이유는 나중에.</p>
<h1 id="nodejsinstall">node js install</h1>
<p>이제 ghost를 설치해야 한다. ghost는 node js로 개발되어 있으니 node js를 설치하자. apt로 설치하려고 봤더니 4.8.2가 설치되려나 보다. 그런데 지금 ghost 홈페이지에서는 Node v6 LTS를 권장한다고 한다. 음... 뭔가 찝찝하니까 v6 LTS를 설치하자.<br>
<br>
다행히도 node js는 <a href="https://github.com/creationix/nvm">NVM</a>으로 사용자의 로컬에 원하는 버전을 지정하여 선택 할 수가 있다. NVM 부터 설치 해 보자.</p>
<pre><code class="language-bash">curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.6/install.sh | bash
bash
nvm install --lts=boron
node --version
</code></pre>
<p>본래 첫 줄을 실행해 주고 나서, 새로 터미널을 열어라고 나왔는데, 귀찬아서 그냥 bash를 새로 실행시켰다. nvm install --lts 로 설치를 하면 v8이 설치되는데 v6을 맞추려고 <code>--lts=boron</code> 옵션을 줬다. 설치가 마치고 나면 <code>node --version</code>를 실행해서 원하는 버전의 노드가 설치되었는지 확인해 보자.</p>
<h1 id="ghostinstall">ghost install</h1>
<p>node js가 설치되었으니, ghost를 설치해볼 차례이다. ghost를 실제 블로그로 사용하려면 웹서버나 데이터베이스 설정을 해야 겠지만 단지 github page 생성을 위해 사용할 예정이니 그런 작업은 필요 없다. ghost의 <a href="https://docs.ghost.org/docs/install-local">install-local</a> 문서대로 그냥 진행 한다.</p>
<pre><code class="language-bash">npm install -g ghost-cli
mkdir blog
cd blog
ghost install local
</code></pre>
<p>예전에는 github에서 zip파일을 다운 받아서 진행했던거 같은데, ghost-cli가 따로 생겼다. ghost-cli는 ghost 블로그 생성, 서비스 시작/종료, 업데이트 같은 작업을 관리해 주니 가급적 사용하는게 좋을 것 같다. 공식 문서에서 나와 있으니. ghost-cli를 설치해서 작업을 진행하자.</p>
<p>그리고 저 과정을 거치고 나면 ghost-cli에서 이미 ghost를 실행해 둔 상태라 포트 2368로 접속하면 설치된 것을 확인 할 수 있다. aws나 gce를 사용하는 사람이라면 방화벽에서 2368을 열어둬야 확인 할 수 있다.</p>
<h1 id="busterinstall">buster install</h1>
<p>ghost 설치를 완료하고 나면 기본작업은 끝났다. 이대로 사용해도 되지만 (보안이나 웹설정은 모르겠고. 일단 블로그가 보인다는 것에 만족) 목표는 github page로 등록하는 것이니 buster를 설치한다. buster는 ghost를 위한 github 정적 페이지 생성기 이다. 그냥 대충 동작하는 것을 보면 ghost 블로그의 사이트를 wget으로 스크랩해서 동작하는 듯 하다. 뭔가 <code>ghost</code> <code>buster</code> 의도적인 이름 같기는 한데...</p>
<pre><code class="language-bash">virtualenv .env
source .env/bin/activate
pip install -U pip setuptool
pip install buster
buster setup
buster generate
</code></pre>
<p>buster를 설치한다. python3를 사용했다면 가상환경 만들때 <code>python3 -mvenv .env</code> 처럼 했을건데 python3 환경에서 buster를 설치하려고 하니 에러가 난다. 고쳐서 쓸 생각은 없으니 python2로 진행.<br>
buster generate를 실행하면 실행 경로에 static 폴더가 생기는데 거기가 거기다. 블로그의 정적 파일이 생성 된 곳.<br>
그리고 github에 글을 올리면 끝.</p>
<pre><code class="language-bash">cd static
git init
git remote add origin git@github.com:USER/USER.github.io.git
git add --all
git commit -m "Ghost Ready"
git push -u origin master -f
</code></pre>
<p>GCE 서버에 설치하였고 github page를 등록하고 나면 ghost는 다음 글을 올릴때 까지 쓸 일이 없으니 <code>ghost stop</code>으로 ghost를 정지 시키자, 다음에 글을 쓰고 싶을때 <code>ghost start</code>로 시작시키면 그만이다.</p>
</div>

            </section>

        </article>
    </main>
    <footer class="site-footer clearfix">
        <section class="copyright"><a href="../../">bejuryu's journal</a> © 2017</section>
        <section class="poweredby">Proudly published with <a href="https://ghost.org">Ghost</a></section>
    </footer>
</body>
