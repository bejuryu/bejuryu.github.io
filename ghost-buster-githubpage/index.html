
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>ghost + buster + github page</title>
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" type="text/css" href="../assets/built/screen.css?v=f403d693ad">

    <link rel="shortcut icon" href="../favicon.ico" type="image/x-icon">
    <link rel="canonical" href="index.html">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <link rel="amphtml" href="amp/index.html">
    
    <meta property="og:site_name" content="bejuryu's journal">
    <meta property="og:type" content="article">
    <meta property="og:title" content="ghost + buster + github page">
    <meta property="og:description" content="블로그를 시작해야지. 라고 마음을 먹었을 때 염두에 둔 플랫폼은 github page였다. 정적 페이지라서, github이 호스팅을 해 줘서, git으로 버전 관리를 해 줘서... 같은 의미가 있었던 것은 아니고, 단지 다른 개발자 들이 많이 쓰는거 같으니까... 따라가려는 사소한 마음으로 시작하였다. 하지만 공식문서대로 Jekyll로 하려니 예전에도 해 봣지만 별로 안 이쁜거 같고. 어디선가">
    <meta property="og:url" content="http://localhost:2368/ghost-buster-githubpage/">
    <meta property="article:published_time" content="2017-12-02T12:08:45.000Z">
    <meta property="article:modified_time" content="2017-12-02T12:26:37.000Z">
    <meta property="article:tag" content="ghost">
    <meta property="article:tag" content="buster">
    <meta property="article:tag" content="github page">
    
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="ghost + buster + github page">
    <meta name="twitter:description" content="블로그를 시작해야지. 라고 마음을 먹었을 때 염두에 둔 플랫폼은 github page였다. 정적 페이지라서, github이 호스팅을 해 줘서, git으로 버전 관리를 해 줘서... 같은 의미가 있었던 것은 아니고, 단지 다른 개발자 들이 많이 쓰는거 같으니까... 따라가려는 사소한 마음으로 시작하였다. 하지만 공식문서대로 Jekyll로 하려니 예전에도 해 봣지만 별로 안 이쁜거 같고. 어디선가">
    <meta name="twitter:url" content="http://localhost:2368/ghost-buster-githubpage/">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="bejuryu">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="ghost, buster, github page">
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "bejuryu&#x27;s journal",
        "logo": {
            "@type": "ImageObject",
            "url": "http://localhost:2368/favicon.ico",
            "width": 60,
            "height": 60
        }
    },
    "author": {
        "@type": "Person",
        "name": "bejuryu",
        "image": {
            "@type": "ImageObject",
            "url": "//www.gravatar.com/avatar/8b6634d2ebbefc08db5bb81aff6e4b6e?s=250&d=mm&r=x",
            "width": 250,
            "height": 250
        },
        "url": "http://localhost:2368/author/bejuryu/",
        "sameAs": []
    },
    "headline": "ghost + buster + github page",
    "url": "http://localhost:2368/ghost-buster-githubpage/",
    "datePublished": "2017-12-02T12:08:45.000Z",
    "dateModified": "2017-12-02T12:26:37.000Z",
    "keywords": "ghost, buster, github page",
    "description": "블로그를 시작해야지. 라고 마음을 먹었을 때 염두에 둔 플랫폼은 github page였다. 정적 페이지라서, github이 호스팅을 해 줘서, git으로 버전 관리를 해 줘서... 같은 의미가 있었던 것은 아니고, 단지 다른 개발자 들이 많이 쓰는거 같으니까... 따라가려는 사소한 마음으로 시작하였다. 하지만 공식문서대로 Jekyll로 하려니 예전에도 해 봣지만 별로 안 이쁜거 같고. 어디선가",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://localhost:2368/"
    }
}
    </script>

    <script type="text/javascript" src="../public/ghost-sdk.js?v=f403d693ad"></script>
<script type="text/javascript">
ghost.init({
	clientId: "ghost-frontend",
	clientSecret: "9b2a5ecdac7d"
});
</script>
    <meta name="generator" content="Ghost 1.18">
    <link rel="alternate" type="application/rss+xml" title="bejuryu's journal" href="../rss/index.html">
    <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet" type="text/css">
<style>
body,  
h1, h2, h3, h4, h5, h6,  
.main-nav a,
.subscribe-button,
.page-title,
.read-next-story .post:before,
.post-full-content,
.pagination,
.site-footer,
[class^="post-"],
[class^="icon-"]:before, [class*=" icon-"]:before {
    font-family:"Lato", sans-serif;
}
</style>

</head>
<body class="post-template tag-ghost-tag tag-buster tag-github-page">

    <div class="site-wrapper">

        

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
                <a class="site-nav-logo" href="../">bejuryu's journal</a>
            <ul class="nav" role="menu">
    <li class="nav-home" role="menuitem"><a href="http://bejuryu.github.io">Home</a></li>
</ul>

    </div>
    <div class="site-nav-right">
        <div class="social-links">
        </div>
            <a class="rss-button" href="http://cloud.feedly.com/#subscription/feed/http://localhost:2368/rss/" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><circle cx="6.18" cy="17.82" r="2.18"></circle><path d="M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z"></path></svg>
</a>
    </div>
</nav>
    </div>
</header>


<main id="site-main" class="site-main outer" role="main">
    <div class="inner">

        <article class="post-full post tag-ghost-tag tag-buster tag-github-page no-image">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime="2017-12-02">2 December 2017</time>
                        <span class="date-divider">/</span> <a href="../tag/ghost-tag/">ghost</a>
                </section>
                <h1 class="post-full-title">ghost + buster + github page</h1>
            </header>


            <section class="post-full-content">
                <div class="kg-card-markdown"><p>블로그를 시작해야지. 라고 마음을 먹었을 때 염두에 둔 플랫폼은 github page였다.<br>
정적 페이지라서, github이 호스팅을 해 줘서, git으로 버전 관리를 해 줘서... 같은 의미가 있었던 것은 아니고, 단지 다른 개발자 들이 많이 쓰는거 같으니까... 따라가려는 사소한 마음으로 시작하였다.<br>
하지만 공식문서대로 Jekyll로 하려니 예전에도 해 봣지만 별로 안 이쁜거 같고. 어디선가 ghost로 블로그를 만들어서 github로 올릴 수 있다고 본거 같아서 따라하게 되었다. 그리고 이 글은 그 글을 따라하면서의 삽질의 기록이다.</p>
<p>간략하게 진행할 내용을 말하자면 <strong>ghost 설치</strong>, <strong>buster 설치</strong> 의 내용이 전부다.<br>
설치할때 참조한 문서는 <a href="https://medium.com/aishik/publish-with-ghost-on-github-pages-2e5308db90ae">Publish with Ghost on Github Pages</a>.</p>
<p>우선 ghost를 설치할 서버를 설정한다. 로컬에 진행하여도 상관 없지만, Google Compute Engine에 가입하니 1년에 $300 쿠폰이 나와서 그냥 깨끗하게 서버로 진행 하기로 한다.<br>
GCE 서버 설정은 각자가 진행 하고... 난 그냥 g1-small 사양에다가 debian os를 선택해서 진행 하였다. 그나마 메모리가 1.6G나 되서 swap을 별도로 안 만들어줘도 되서 다행.</p>
<h1 id="systemupdate">system update</h1>
<p>서버를 선택하고 아무것도 하지 않았다면 시스템 업데이트를 하고 필수 패키지를 설치한다.</p>
<pre><code class="language-bash">sudo apt update
sudo apt dist-upgrade
sudo apt install build-essential git python-all-dev virtualenv
</code></pre>
<p>python-all-dev와 virtualenv를 보면 알겠지만 python3를 설치하지 않고 python2를 설치한다. 굳이 2를 설치하고 싶진 않았지만 어쩔 수 없었다. 이유는 나중에.</p>
<h1 id="nodejsinstall">node js install</h1>
<p>이제 ghost를 설치해야 한다. ghost는 node js로 개발되어 있으니 node js를 설치하자. apt로 설치하려고 봤더니 4.8.2가 설치되려나 보다. 그런데 지금 ghost 홈페이지에서는 Node v6 LTS를 권장한다고 한다. 음... 뭔가 찝찝하니까 v6 LTS를 설치하자.<br>
<img src="../content/images/2017/12/recommended_version.png" alt="recommended_version"><br>
다행히도 node js는 <a href="https://github.com/creationix/nvm">NVM</a>으로 사용자의 로컬에 원하는 버전을 지정하여 선택 할 수가 있다. NVM 부터 설치 해 보자.</p>
<pre><code class="language-bash">curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.6/install.sh | bash
bash
nvm install --lts=boron
node --version
</code></pre>
<p>본래 첫 줄을 실행해 주고 나서, 새로 터미널을 열어라고 나왔는데, 귀찬아서 그냥 bash를 새로 실행시켰다. nvm install --lts 로 설치를 하면 v8이 설치되는데 v6을 맞추려고 <code>--lts=boron</code> 옵션을 줬다. 설치가 마치고 나면 <code>node --version</code>를 실행해서 원하는 버전의 노드가 설치되었는지 확인해 보자.</p>
<h1 id="ghostinstall">ghost install</h1>
<p>node js가 설치되었으니, ghost를 설치해볼 차례이다. ghost를 실제 블로그로 사용하려면 웹서버나 데이터베이스 설정을 해야 겠지만 단지 github page 생성을 위해 사용할 예정이니 그런 작업은 필요 없다. ghost의 <a href="https://docs.ghost.org/docs/install-local">install-local</a> 문서대로 그냥 진행 한다.</p>
<pre><code class="language-bash">npm install -g ghost-cli
mkdir blog
cd blog
ghost install local
</code></pre>
<p>예전에는 github에서 zip파일을 다운 받아서 진행했던거 같은데, ghost-cli가 따로 생겼다. ghost-cli는 ghost 블로그 생성, 서비스 시작/종료, 업데이트 같은 작업을 관리해 주니 가급적 사용하는게 좋을 것 같다. 공식 문서에서 나와 있으니. ghost-cli를 설치해서 작업을 진행하자.</p>
<p>그리고 저 과정을 거치고 나면 ghost-cli에서 이미 ghost를 실행해 둔 상태라 포트 2368로 접속하면 설치된 것을 확인 할 수 있다. aws나 gce를 사용하는 사람이라면 방화벽에서 2368을 열어둬야 확인 할 수 있다.</p>
<h1 id="busterinstall">buster install</h1>
<p>ghost 설치를 완료하고 나면 기본작업은 끝났다. 이대로 사용해도 되지만 (보안이나 웹설정은 모르겠고. 일단 블로그가 보인다는 것에 만족) 목표는 github page로 등록하는 것이니 buster를 설치한다. buster는 ghost를 위한 github 정적 페이지 생성기 이다. 그냥 대충 동작하는 것을 보면 ghost 블로그의 사이트를 wget으로 스크랩해서 동작하는 듯 하다. 뭔가 <code>ghost</code> <code>buster</code> 의도적인 이름 같기는 한데...</p>
<pre><code class="language-bash">virtualenv .env
source .env/bin/activate
pip install -U pip setuptool
pip install buster
buster setup
buster generate
</code></pre>
<p>buster를 설치한다. python3를 사용했다면 가상환경 만들때 <code>python3 -mvenv .env</code> 처럼 했을건데 python3 환경에서 buster를 설치하려고 하니 에러가 난다. 고쳐서 쓸 생각은 없으니 python2로 진행.<br>
buster generate를 실행하면 실행 경로에 static 폴더가 생기는데 거기가 거기다. 블로그의 정적 파일이 생성 된 곳.<br>
그리고 github에 글을 올리면 끝.</p>
<pre><code class="language-bash">cd static
git init
git remote add origin git@github.com:USER/USER.github.io.git
git add --all
git commit -m "Ghost Ready"
git push -u origin master -f
</code></pre>
<p>GCE 서버에 설치하였고 github page를 등록하고 나면 ghost는 다음 글을 올릴때 까지 쓸 일이 없으니 <code>ghost stop</code>으로 ghost를 정지 시키자, 다음에 글을 쓰고 싶을때 <code>ghost start</code>로 시작시키면 그만이다.</p>
</div>
            </section>


            <footer class="post-full-footer">

                <section class="author-card">
                        <img class="author-profile-image" src="http://www.gravatar.com/avatar/8b6634d2ebbefc08db5bb81aff6e4b6e?s=250&amp;d=mm&amp;r=x" alt="bejuryu">
                    <section class="author-card-content">
                        <h4 class="author-card-name"><a href="../author/bejuryu/">bejuryu</a></h4>
                            <p>Read <a href="../author/bejuryu/">more posts</a> by this author.</p>
                    </section>
                </section>
                <div class="post-full-footer-right">
                    <a class="author-card-button" href="../author/bejuryu/">Read More</a>
                </div>

            </footer>


        </article>

    </div>
</main>

<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">


                <article class="post-card post tag-life no-image">
    <div class="post-card-content">
        <a class="post-card-content-link" href="../start-blog/">
            <header class="post-card-header">
                    <span class="post-card-tags">life</span>
                <h2 class="post-card-title">블로그를 시작.</h2>
            </header>
            <section class="post-card-excerpt">
                <p>블로그를 시작한다. 예전에도 몇번을 만들었다가 지웠다를 반복했는데, 사실 블로그를 설치하고 세팅하는거에 재미를 느끼는 터라 유지를 못해왔다. 이번에도 별반 차이는 없을 듯 하지만 이미 지난 유행에 편승하는 기분으로 블로그를 시작.</p>
            </section>
        </a>
        <footer class="post-card-meta">
                <img class="author-profile-image" src="http://www.gravatar.com/avatar/8b6634d2ebbefc08db5bb81aff6e4b6e?s=250&amp;d=mm&amp;r=x" alt="bejuryu">
            <span class="post-card-author"><a href="../author/bejuryu/">bejuryu</a></span>
        </footer>
    </div>
</article>

        </div>
    </div>
</aside>

<div class="floating-header">
    <div class="floating-header-logo">
        <a href="../">
            <span>bejuryu's journal</span>
        </a>
    </div>
    <span class="floating-header-divider">—</span>
    <div class="floating-header-title">ghost + buster + github page</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"></path>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=ghost%20%2B%20buster%20%2B%20github%20page&amp;url=http://localhost:2368/ghost-buster-githubpage/" onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"></path></svg>
        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:2368/ghost-buster-githubpage/" onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"></path></svg>
        </a>
    </div>
    <progress class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>




        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="../">bejuryu's journal</a> © 2017</section>
                <nav class="site-footer-nav">
                    <a href="../">Latest Posts</a>
                    
                    
                    <a href="https://ghost.org" target="_blank" rel="noopener">Ghost</a>
                </nav>
            </div>
        </footer>

    </div>


    <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="../assets/js/jquery.fitvids.js?v=f403d693ad"></script>


    <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>


    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-110574052-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-110574052-1');
</script>

</body>
